(()=>{"use strict";function t(){const t=[];let e;for(let r=0;r<10;r++){e=t.push([]);for(let r=0;r<10;r++)t[e-1].push(null)}const r=[],n=[],o=[];return{getBoard:function(){return t},placeShip:function(e=0,n=0,o=2,l="right"){if(e<0||e>9)return!1;if(n<0||n>9)return!1;if(o<2||o>5)return!1;switch(l){case"left":if(e-(o-1)<0)return!1;break;case"right":if(e+(o-1)>9)return!1;break;case"up":if(n+(o-1)>9)return!1;break;case"down":if(n-(o-1)<0)return!1}switch(l){case"left":for(let r=e-(o-1);r<=e;r++)if(null!==t[r][n])return!1;break;case"right":for(let r=e;r<=e+(o-1);r++)if(null!==t[r][n])return!1;break;case"up":for(let r=n;r<=n+(o-1);r++)if(null!==t[e][r])return!1;break;case"down":for(let r=n-(o-1);r<=n;r++)if(null!==t[e][r])return!1}const s=function(t=2){let e=0,r=!1;return{getLength:function(){return t},getHitCount:function(){return e},hit:function(){e++,r=e>=t},isSunk:function(){return r}}}(o);switch(r.push(s),l){case"left":for(let r=e-(o-1);r<=e;r++)t[r][n]=s;break;case"right":for(let r=e;r<=e+(o-1);r++)t[r][n]=s;break;case"up":for(let r=n;r<=n+(o-1);r++)t[e][r]=s;break;case"down":for(let r=n-(o-1);r<=n;r++)t[e][r]=s}return!0},receiveAttack:function(e=0,r=0){return!(e<0||e>9||r<0||r>9||(null===t[e][r]?(n.push([e,r]),t[e][r]="M",o.push([e,r]),1):(t[e][r].hit(),t[e][r]="H",o.push([e,r]),0)))},getMissedShots:function(){return n},allShipsSunk:function(){for(let t=0;t<r.length;t++)if(!1===r[t].isSunk())return!1;return!0},getAllShots:function(){return o}}}function e(){const t=[];let e;for(let r=0;r<10;r++){e=t.push([]);for(let r=0;r<10;r++)t[e-1].push(null)}return{getAttacks:function(){return t},setHit:function(e){t[e[0]][e[1]]="hit"},setMiss:function(e){t[e[0]][e[1]]="miss"}}}function r(t){const e=t.getAttacks();let r;console.log("   0  1  2  3  4  5  6  7  8  9");for(let t=e.length-1;t>=0;t--){r=`${t}`;for(let n=0;n<e[t].length;n++)switch(e[n][t]){case null:r+="  .";break;case"hit":r+="  O";break;case"miss":r+="  X"}console.log(r)}}function n(t){const e=t.getBoard();let r;console.log("   0  1  2  3  4  5  6  7  8  9");for(let t=e.length-1;t>=0;t--){r=`${t}`;for(let n=0;n<e[t].length;n++)switch(e[n][t]){case null:r+="  .";break;case"H":r+="  H";break;case"M":r+="  M";break;default:r+="  O"}console.log(r)}}!function(){const o=[e(),e()],l=[t(),t()];l.forEach((t=>{t.placeShip(2,6,2,"right"),t.placeShip(3,4,3,"down")}));let s,u,c,a,i,f,h=!1,g=o[0];for(;!h;){if(g===o[1]){console.log("Computer's turn:");do{u=Math.floor(10*Math.random()),c=Math.floor(10*Math.random())}while(l[0].getAllShots().includes([u,c]));console.log(`Computer targets: [${u}, ${c}]`),a=l[0].receiveAttack(u,c),!1===a?console.log("Computer attack status: FAILURE"):console.log("Computer attack status: SUCCESS"),l[0].allShipsSunk()&&(s="Computer",h=!0)}else{console.log("Player's turn:"),r(o[0]),n(l[0]);do{i=prompt("Please enter valid x, y coordinates for attack: "),f=i.split(" "),u=Number(f[0]),c=Number(f[1])}while(u<0||u>9||c<0||c>9||l[1].getAllShots().includes([u,c]));console.clear(),console.log(`Player targets [${u}, ${c}]`),a=l[1].receiveAttack(u,c),!1===a?(o[0].setMiss([u,c]),console.log("Player attack status: FAILURE")):(o[0].setHit([u,c]),console.log("Player attack status: SUCCESS")),l[1].allShipsSunk()&&(s="Player",h=!0)}g=g===o[0]?o[1]:o[0]}console.log("Game over!"),console.log(`${s} wins!`)}()})();